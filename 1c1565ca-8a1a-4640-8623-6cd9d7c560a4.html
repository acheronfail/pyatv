<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pyatv log</title>
  <style type="text/css" media="screen">
    .box_log {
      margin: 3px;
      padding: 2px;
      border-color: #aaaaaa;
      border-radius: 5px;
      border-style: dotted;
      background: #cccccc;
    }
    .box_log summary {
      overflow: scroll;
      white-space: wrap;
    }
    .box_log pre {
      overflow-x: auto;
    }
  </style>

  <script>
    var content = [["2021-03-07 20:05:47", "DEBUG", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9\n"], ["2021-03-07 20:05:47", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)\n"], ["2021-03-07 20:05:47", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)\n"], ["2021-03-07 20:05:47", "DEBUG", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10\n"], ["2021-03-07 20:05:47", "DEBUG", "Connection made to device", "Connection made to device\n"], ["2021-03-07 20:05:47", "DEBUG", "Configured keep-alive on <asyncio.TransportSocket fd=36, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 55932), raddr=('10.10.1.9', 49244)> (Linux)", "Configured keep-alive on <asyncio.TransportSocket fd=36, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 55932), raddr=('10.10.1.9', 49244)> (Linux)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 Connection established", "10.10.0.33:55932<->10.10.1.9:49244 Connection established\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=080f122446363944423445322d333630452d343046302d394146462d4539363635453341433231442000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=080f122446363944423445322d333630452d343046302d394146462d4539363635453341433231442000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"F69DB4E2-360E-40F0-9AFF-E9665E3AC21D\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"5fa1887c-526c-4318-adcc-c34a71f869e1\"\nname: \"pyatv\"\nlocalizedModelName: \"iPhone\"\nsystemBuildVersion: \"18A393\"\napplicationBundleIdentifier: \"com.apple.TVRemote\"\napplicationBundleVersion: \"344.28\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceClass: iPhone\nlogicalDeviceCount: 1\n}\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=a103080f122446363944423445322d333630452d343046302d394146462d4539363635453341433231442000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=a103080f122446363944423445322d333630452d343046302d394146462d4539363635453341433231442000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"F69DB4E2-360E-40F0-9AFF-E9665E3AC21D\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nname: \"Woonkamer\"\nlocalizedModelName: \"Apple\\302\\240TV\"\nsystemBuildVersion: \"18K802\"\napplicationBundleIdentifier: \"com.apple.mediaremoted\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceUID: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nmanagedConfigDeviceID: \"6c:4a:85:26:d9:db\"\ndeviceClass: AppleTV\nlogicalDeviceCount: 1\nisProxyGroupPlayer: false\ngroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nisGroupLeader: true\nisAirplayActive: false\nsystemPodcastApplication: \"com.apple.podcasts\"\nenderDefaultGroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nairplayReceivers: \"TVAirPlay\"\nclusterType: 0\nisClusterAware: true\nmodelID: \"AppleTV6,2\"\n}\nuniqueIdentifier: \"CF8DBCDE-AE19-41EF-845D-19E81797C3B5\"\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a25060101032074328770e32f5f4be9c66d1d388f1ae00646b67bb4167946682eb0e3bc010b6b1000180020002800)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a25060101032074328770e32f5f4be9c66d1d388f1ae00646b67bb4167946682eb0e3bc010b6b1000180020002800)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\001\\003 t2\\207p\\343/_K\\351\\306m\\0358\\217\\032\\340\\006F\\266{\\264\\026yFh.\\260\\343\\274\\001\\013k\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f010578c5832005d606d05fb6b20841afb6e521a4bd62dfc48611b99131b7eada8278d324461cacfae633d32488c5ea9dc6b0ac16e231880b898c6085a179efcf9e06b4ab385f0ab937bb24558595cba8459f544b74afe7ad182b28d24acea42a67521cbd015aa4ceab4d5fb9dd26e6b5123b77493e1f531c285d340601020320475f4030f5c9afab4eda5f4e59532830453b122a5fa25a7b9c68f6877f1dfd741000180020002800aa052431313835344339352d343231382d343930332d414134462d313045344633414146393438)", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f010578c5832005d606d05fb6b20841afb6e521a4bd62dfc48611b99131b7eada8278d324461cacfae633d32488c5ea9dc6b0ac16e231880b898c6085a179efcf9e06b4ab385f0ab937bb24558595cba8459f544b74afe7ad182b28d24acea42a67521cbd015aa4ceab4d5fb9dd26e6b5123b77493e1f531c285d340601020320475f4030f5c9afab4eda5f4e59532830453b122a5fa25a7b9c68f6877f1dfd741000180020002800aa052431313835344339352d343231382d343930332d414134462d313045344633414146393438)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\005x\\305\\203 \\005\\326\\006\\320_\\266\\262\\010A\\257\\266\\345!\\244\\275b\\337\\304\\206\\021\\271\\2211\\267\\352\\332\\202x\\323$F\\034\\254\\372\\3463...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"11854C95-4218-4903-AA4F-10E4F3AAF948\"\n"], ["2021-03-07 20:05:47", "DEBUG", "Device (Encrypted=c5832005d606d05fb6b20841afb6e521a4bd62dfc48611b99131b7eada8278d324461cacfae633d32488c5ea9dc6b0ac16e231880b898c6085a179efcf9e06b4ab385f0ab937bb24558595cba8459f544b74afe7ad182b28d24acea42a67521cbd015aa4ceab4d5fb9dd26e6b5123b77493e1f531c285d34, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)", "Device (Encrypted=c5832005d606d05fb6b20841afb6e521a4bd62dfc48611b99131b7eada8278d324461cacfae633d32488c5ea9dc6b0ac16e231880b898c6085a179efcf9e06b4ab385f0ab937bb24558595cba8459f544b74afe7ad182b28d24acea42a67521cbd015aa4ceab4d5fb9dd26e6b5123b77493e1f531c285d34, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578ef2642133593b922152498d0919ee788cb7ff87753847e679af949cafa4cc6c982064ebfcb7c9e3d48d7b26c27d1e90381a379815e913590a654b546af6b2cd07adadf650abee981e04e526abf0290eee9673a2ee3f1ecce4ccf23f9d85a2efc101e1af09fc6a00ef6a6539d1d2ef21ce46d96f286058e441000180020002800)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578ef2642133593b922152498d0919ee788cb7ff87753847e679af949cafa4cc6c982064ebfcb7c9e3d48d7b26c27d1e90381a379815e913590a654b546af6b2cd07adadf650abee981e04e526abf0290eee9673a2ee3f1ecce4ccf23f9d85a2efc101e1af09fc6a00ef6a6539d1d2ef21ce46d96f286058e441000180020002800)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\003\\005x\\357&B\\0235\\223\\271\\\"\\025$\\230\\320\\221\\236\\347\\210\\313\\177\\370wS\\204~g\\232\\371I\\312\\372L\\306\\311\\202\\006N\\277\\313|...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052444314634394634412d464232462d344141342d383441362d384543313732364237353341)", "10.10.0.33:55932<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052444314634394634412d464232462d344141342d383441362d384543313732364237353341)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\007\\001\\002\\006\\001\\004\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"D1F49F4A-FB2F-4AA4-84A6-8EC1726B753A\"\n"], ["2021-03-07 20:05:47", "DEBUG", "Keys (Input=acd3b1474dcc31fab450b2ab4724a031fa347593e9408abab988d44978988656, Output=c703c8ae58fc13383cc94a72696c701cdf2c4c4dce319bd13893403451e9ca56)", "Keys (Input=acd3b1474dcc31fab450b2ab4724a031fa347593e9408abab988d44978988656, Output=c703c8ae58fc13383cc94a72696c701cdf2c4c4dce319bd13893403451e9ca56)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08262000d202020802)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=08262000d202020802)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Encrypted=0deb822f81e1bf6b26c6bc5e37328ed16b672965ea9916eb97)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Encrypted=0deb822f81e1bf6b26c6bc5e37328ed16b672965ea9916eb97)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE\nerrorCode: NoError\n[setConnectionStateMessage] {\nstate: Connected\n}\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=0810122430454434344642382d353937422d343130312d414446372d4635323437344630374234422000aa010a08011000180120012800)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Data=0810122430454434344642382d353937422d343130312d414446372d4635323437344630374234422000aa010a08011000180120012800)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Encrypted=37742576c3b0783962a22679e018d927c07cc75d1aadbe827e097b31c8b86bb0eb86a9b8a28589c7c3aecbec2e00e58abddbb0b2b0aa1da5d357f0a8995c8a23f59f96bb7f5178)", "10.10.0.33:55932<->10.10.1.9:49244 >> Send (Encrypted=37742576c3b0783962a22679e018d927c07cc75d1aadbe827e097b31c8b86bb0eb86a9b8a28589c7c3aecbec2e00e58abddbb0b2b0aa1da5d357f0a8995c8a23f59f96bb7f5178)\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE", "10.10.0.33:55932<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE\nidentifier: \"0ED44FB8-597B-4101-ADF7-F52474F07B4B\"\nerrorCode: NoError\n[clientUpdatesConfigMessage] {\nartworkUpdates: true\nnowPlayingUpdates: false\nvolumeUpdates: true\nkeyboardUpdates: true\noutputDeviceUpdates: false\n}\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 Disconnected from device: [Errno 104] Connection reset by peer", "10.10.0.33:55932<->10.10.1.9:49244 Disconnected from device: [Errno 104] Connection reset by peer\n"], ["2021-03-07 20:05:47", "WARNING", "There were 1 outstanding requests", "There were 1 outstanding requests\n"], ["2021-03-07 20:05:47", "DEBUG", "10.10.0.33:55932<->10.10.1.9:49244 Closing connection", "10.10.0.33:55932<->10.10.1.9:49244 Closing connection\n"], ["2021-03-07 20:05:53", "ERROR", "Failed to connect", "Failed to connect\nTraceback (most recent call last):\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 177, in _receive\nawait asyncio.wait_for(semaphore.acquire(), timeout)\nFile \"/usr/local/lib/python3.8/asyncio/tasks.py\", line 501, in wait_for\nraise exceptions.TimeoutError()\nasyncio.exceptions.TimeoutError\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 245, in _connect_loop\nawait self._connect(conf)\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 329, in _connect\nself.atv = await connect(conf, self.hass.loop, session=session)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/__init__.py\", line 76, in connect\nawait atv.connect()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/__init__.py\", line 701, in connect\nawait self._protocol.start()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 107, in start\nawait self.send_and_receive(messages.client_updates_config())\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 169, in send_and_receive\nreturn await self._receive(identifier, timeout)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 180, in _receive\ndel self._outstanding[identifier]\nKeyError: '0ED44FB8-597B-4101-ADF7-F52474F07B4B'\n"], ["2021-03-07 20:05:54", "DEBUG", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9\n"], ["2021-03-07 20:05:54", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)\n"], ["2021-03-07 20:05:54", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)\n"], ["2021-03-07 20:05:54", "DEBUG", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10\n"], ["2021-03-07 20:05:54", "DEBUG", "Connection made to device", "Connection made to device\n"], ["2021-03-07 20:05:54", "DEBUG", "Configured keep-alive on <asyncio.TransportSocket fd=56, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 56020), raddr=('10.10.1.9', 49244)> (Linux)", "Configured keep-alive on <asyncio.TransportSocket fd=56, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 56020), raddr=('10.10.1.9', 49244)> (Linux)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 Connection established", "10.10.0.33:56020<->10.10.1.9:49244 Connection established\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=080f122438414332333431412d443936362d343046422d383341412d3732363641414335303434322000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=080f122438414332333431412d443936362d343046422d383341412d3732363641414335303434322000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"8AC2341A-D966-40FB-83AA-7266AAC50442\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"5fa1887c-526c-4318-adcc-c34a71f869e1\"\nname: \"pyatv\"\nlocalizedModelName: \"iPhone\"\nsystemBuildVersion: \"18A393\"\napplicationBundleIdentifier: \"com.apple.TVRemote\"\napplicationBundleVersion: \"344.28\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceClass: iPhone\nlogicalDeviceCount: 1\n}\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=a103080f122438414332333431412d443936362d343046422d383341412d3732363641414335303434322000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=a103080f122438414332333431412d443936362d343046422d383341412d3732363641414335303434322000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"8AC2341A-D966-40FB-83AA-7266AAC50442\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nname: \"Woonkamer\"\nlocalizedModelName: \"Apple\\302\\240TV\"\nsystemBuildVersion: \"18K802\"\napplicationBundleIdentifier: \"com.apple.mediaremoted\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceUID: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nmanagedConfigDeviceID: \"6c:4a:85:26:d9:db\"\ndeviceClass: AppleTV\nlogicalDeviceCount: 1\nisProxyGroupPlayer: false\ngroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nisGroupLeader: true\nisAirplayActive: false\nsystemPodcastApplication: \"com.apple.podcasts\"\nenderDefaultGroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nairplayReceivers: \"TVAirPlay\"\nclusterType: 0\nisClusterAware: true\nmodelID: \"AppleTV6,2\"\n}\nuniqueIdentifier: \"B33A8054-7085-4B68-BEEB-490612BAAD0C\"\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a25060101032032936176ffb17f48428d1e3387668a517a919075991ff49f014c1c1ab65ef13f1000180020002800)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a25060101032032936176ffb17f48428d1e3387668a517a919075991ff49f014c1c1ab65ef13f1000180020002800)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\001\\003 2\\223av\\377\\261\\177HB\\215\\0363\\207f\\212Qz\\221\\220u\\231\\037\\364\\237\\001L\\034\\032\\266^\\361?\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f0105783f4b5aa214a0e6f72553f33e45fde0959cf1da5bbf838996b41662e76d521f6c79e3ecd849b51f7a363727a318b794d9be0b68179b440634964e6a1c9fc23b495193df17bdf8a2eb3d2aa03c1beb59ebb2575c3142845f45608f7006c6d660aeeb975e1d8248a91c6e4e86e4fa40f158e00523e9236cffe606010203201503081f9c84f01f6321b86608d9ebaf0060c3815d74f4574e4e4bd5226596601000180020002800aa052434354638434139342d433046302d343846332d383532322d434236353233353335373641)", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f0105783f4b5aa214a0e6f72553f33e45fde0959cf1da5bbf838996b41662e76d521f6c79e3ecd849b51f7a363727a318b794d9be0b68179b440634964e6a1c9fc23b495193df17bdf8a2eb3d2aa03c1beb59ebb2575c3142845f45608f7006c6d660aeeb975e1d8248a91c6e4e86e4fa40f158e00523e9236cffe606010203201503081f9c84f01f6321b86608d9ebaf0060c3815d74f4574e4e4bd5226596601000180020002800aa052434354638434139342d433046302d343846332d383532322d434236353233353335373641)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\005x?KZ\\242\\024\\240\\346\\367%S\\363>E\\375\\340\\225\\234\\361\\332[\\277\\203\\211\\226\\264\\026b\\347mR\\037ly\\343\\354\\330I\\265\\037z67\\'\\243\\03...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"45F8CA94-C0F0-48F3-8522-CB652353576A\"\n"], ["2021-03-07 20:05:54", "DEBUG", "Device (Encrypted=3f4b5aa214a0e6f72553f33e45fde0959cf1da5bbf838996b41662e76d521f6c79e3ecd849b51f7a363727a318b794d9be0b68179b440634964e6a1c9fc23b495193df17bdf8a2eb3d2aa03c1beb59ebb2575c3142845f45608f7006c6d660aeeb975e1d8248a91c6e4e86e4fa40f158e00523e9236cffe6, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)", "Device (Encrypted=3f4b5aa214a0e6f72553f33e45fde0959cf1da5bbf838996b41662e76d521f6c79e3ecd849b51f7a363727a318b794d9be0b68179b440634964e6a1c9fc23b495193df17bdf8a2eb3d2aa03c1beb59ebb2575c3142845f45608f7006c6d660aeeb975e1d8248a91c6e4e86e4fa40f158e00523e9236cffe6, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578b5be55e5c2808c978d2bc9de555153e8bd028a85b2d575695f40d9b4e3b6e58c96ae3138ca0755dfbe635da9a0bc15704c77db169b2080b576df3dbea215190b2e96b1f100a94a3a0f3fc52c4d6a44d1ec62c64b06537ceb943f3ad7793f467d5962279bfa7b9402ac0f5a3f887c203a6f8155ef311369d01000180020002800)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578b5be55e5c2808c978d2bc9de555153e8bd028a85b2d575695f40d9b4e3b6e58c96ae3138ca0755dfbe635da9a0bc15704c77db169b2080b576df3dbea215190b2e96b1f100a94a3a0f3fc52c4d6a44d1ec62c64b06537ceb943f3ad7793f467d5962279bfa7b9402ac0f5a3f887c203a6f8155ef311369d01000180020002800)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\003\\005x\\265\\276U\\345\\302\\200\\214\\227\\215+\\311\\336UQS\\350\\275\\002\\212\\205\\262\\325ui_@\\331\\264\\343\\266\\345\\214\\226\\25618\\31...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052443443137353234312d324442312d344332332d423839322d303944383331363639363042)", "10.10.0.33:56020<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052443443137353234312d324442312d344332332d423839322d303944383331363639363042)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\007\\001\\002\\006\\001\\004\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"CD175241-2DB1-4C23-B892-09D83166960B\"\n"], ["2021-03-07 20:05:54", "DEBUG", "Keys (Input=8c138a89ca1288910a8c2f815cd40e4693787b6eaae04253cf83c1d82aba2aa3, Output=126faa57b788967b6a44c267dccf22d74509a169fd94ee06a66fd12f1eafd438)", "Keys (Input=8c138a89ca1288910a8c2f815cd40e4693787b6eaae04253cf83c1d82aba2aa3, Output=126faa57b788967b6a44c267dccf22d74509a169fd94ee06a66fd12f1eafd438)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08262000d202020802)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=08262000d202020802)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Encrypted=514745b70f757853705c905122c4ea160064b3ba54d1bc1493)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Encrypted=514745b70f757853705c905122c4ea160064b3ba54d1bc1493)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE\nerrorCode: NoError\n[setConnectionStateMessage] {\nstate: Connected\n}\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=0810122436333237364644462d334146322d344333332d393235442d3242453234334644413330412000aa010a08011000180120012800)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Data=0810122436333237364644462d334146322d344333332d393235442d3242453234334644413330412000aa010a08011000180120012800)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Encrypted=173b442256eb284a6d96ce3e26f11bad4768cdf3cdea0ced387d9c1bfe73c3dc2afc79fa51bec076aeff974bbb8792d0f9bcacf539f3f09dada8260511571fcfd9bef843885173)", "10.10.0.33:56020<->10.10.1.9:49244 >> Send (Encrypted=173b442256eb284a6d96ce3e26f11bad4768cdf3cdea0ced387d9c1bfe73c3dc2afc79fa51bec076aeff974bbb8792d0f9bcacf539f3f09dada8260511571fcfd9bef843885173)\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE", "10.10.0.33:56020<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE\nidentifier: \"63276FDF-3AF2-4C33-925D-2BE243FDA30A\"\nerrorCode: NoError\n[clientUpdatesConfigMessage] {\nartworkUpdates: true\nnowPlayingUpdates: false\nvolumeUpdates: true\nkeyboardUpdates: true\noutputDeviceUpdates: false\n}\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 Disconnected from device: [Errno 104] Connection reset by peer", "10.10.0.33:56020<->10.10.1.9:49244 Disconnected from device: [Errno 104] Connection reset by peer\n"], ["2021-03-07 20:05:54", "WARNING", "There were 1 outstanding requests", "There were 1 outstanding requests\n"], ["2021-03-07 20:05:54", "DEBUG", "10.10.0.33:56020<->10.10.1.9:49244 Closing connection", "10.10.0.33:56020<->10.10.1.9:49244 Closing connection\n"], ["2021-03-07 20:05:59", "ERROR", "Failed to connect", "Failed to connect\nTraceback (most recent call last):\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 177, in _receive\nawait asyncio.wait_for(semaphore.acquire(), timeout)\nFile \"/usr/local/lib/python3.8/asyncio/tasks.py\", line 501, in wait_for\nraise exceptions.TimeoutError()\nasyncio.exceptions.TimeoutError\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 245, in _connect_loop\nawait self._connect(conf)\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 329, in _connect\nself.atv = await connect(conf, self.hass.loop, session=session)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/__init__.py\", line 76, in connect\nawait atv.connect()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/__init__.py\", line 701, in connect\nawait self._protocol.start()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 107, in start\nawait self.send_and_receive(messages.client_updates_config())\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 169, in send_and_receive\nreturn await self._receive(identifier, timeout)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 180, in _receive\ndel self._outstanding[identifier]\nKeyError: '63276FDF-3AF2-4C33-925D-2BE243FDA30A'\n"], ["2021-03-07 20:06:01", "DEBUG", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9", "Knocking at ports [3689, 7000, 49152, 32498] on 10.10.1.9\n"], ["2021-03-07 20:06:01", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)", "Auto-discovered Woonkamer at 10.10.1.9:7000 (Protocol.AirPlay)\n"], ["2021-03-07 20:06:01", "DEBUG", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)", "Auto-discovered Woonkamer at 10.10.1.9:49244 (Protocol.MRP)\n"], ["2021-03-07 20:06:01", "DEBUG", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10", "Loaded AirPlay credentials: 92BB9CFD8CA43653:46F646EC37A9094057620DE2A9439CCEEAEEC0796BE33A77946E503F4A481A10\n"], ["2021-03-07 20:06:01", "DEBUG", "Connection made to device", "Connection made to device\n"], ["2021-03-07 20:06:01", "DEBUG", "Configured keep-alive on <asyncio.TransportSocket fd=56, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 56040), raddr=('10.10.1.9', 49244)> (Linux)", "Configured keep-alive on <asyncio.TransportSocket fd=56, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.10.0.33', 56040), raddr=('10.10.1.9', 49244)> (Linux)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 Connection established", "10.10.0.33:56040<->10.10.1.9:49244 Connection established\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=080f122431433932424144462d463332442d344434302d423034452d4643314144464234394537302000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=080f122431433932424144462d463332442d344434302d423034452d4643314144464234394537302000a20183010a2435666131383837632d353236632d343331382d616463632d633334613731663836396531120570796174761a066950686f6e6522063138413339332a12636f6d2e6170706c652e545652656d6f746532063334342e32383801406c480150016211636f6d2e6170706c652e54564d75736963680170017801880102a80101b00101)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"1C92BADF-F32D-4D40-B04E-FC1ADFB49E70\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"5fa1887c-526c-4318-adcc-c34a71f869e1\"\nname: \"pyatv\"\nlocalizedModelName: \"iPhone\"\nsystemBuildVersion: \"18A393\"\napplicationBundleIdentifier: \"com.apple.TVRemote\"\napplicationBundleVersion: \"344.28\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceClass: iPhone\nlogicalDeviceCount: 1\n}\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=a103080f122431433932424144462d463332442d344434302d423034452d4643314144464234394537302000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=a103080f122431433932424144462d463332442d344434302d423034452d4643314144464234394537302000a201cc020a2431343732334241372d373545442d344642352d383638302d4131343533393735373843431209576f6f6e6b616d65721a094170706c65c2a05456220631384b3830322a16636f6d2e6170706c652e6d6564696172656d6f7465643801406c480150016211636f6d2e6170706c652e54564d757369636801700178018801029a012431343732334241372d373545442d344642352d383638302d413134353339373537384343a2011136633a34613a38353a32363a64393a6462a80104b00101c00100d20124353735303444304...)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: DEVICE_INFO_MESSAGE\nidentifier: \"1C92BADF-F32D-4D40-B04E-FC1ADFB49E70\"\nerrorCode: NoError\n[deviceInfoMessage] {\nuniqueIdentifier: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nname: \"Woonkamer\"\nlocalizedModelName: \"Apple\\302\\240TV\"\nsystemBuildVersion: \"18K802\"\napplicationBundleIdentifier: \"com.apple.mediaremoted\"\nprotocolVersion: 1\nlastSupportedMessageType: 108\nsupportsSystemPairing: true\nallowsPairing: true\nsystemMediaApplication: \"com.apple.TVMusic\"\nsupportsACL: true\nsupportsSharedQueue: true\nsupportsExtendedMotion: true\nsharedQueueVersion: 2\ndeviceUID: \"14723BA7-75ED-4FB5-8680-A145397578CC\"\nmanagedConfigDeviceID: \"6c:4a:85:26:d9:db\"\ndeviceClass: AppleTV\nlogicalDeviceCount: 1\nisProxyGroupPlayer: false\ngroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nisGroupLeader: true\nisAirplayActive: false\nsystemPodcastApplication: \"com.apple.podcasts\"\nenderDefaultGroupUID: \"57504D0D-38C3-4EE9-A409-EC5450A83AD4\"\nairplayReceivers: \"TVAirPlay\"\nclusterType: 0\nisClusterAware: true\nmodelID: \"AppleTV6,2\"\n}\nuniqueIdentifier: \"881DB8E1-8A53-46B4-9665-CBF79388BEA4\"\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a2506010103206b30f3664b2969106fbec2c01088be36d9a72726648da0c8da86278e69071c101000180020002800)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08222000ba022f0a2506010103206b30f3664b2969106fbec2c01088be36d9a72726648da0c8da86278e69071c101000180020002800)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\001\\003 k0\\363fK)i\\020o\\276\\302\\300\\020\\210\\2766\\331\\247\\'&d\\215\\240\\310\\332\\206\\'\\216i\\007\\034\\020\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f010578d51a929ed1f77ce29f723f95721d1823aadbd2ddbc8aea00bfa21b4ebdeab2f2159a085278993a4d24df159d6d0c6492abf05dd3d157a4859ceed5fc40c66c8bd24b6954a58f4af4c4a7d5f5a9dd17d9ba18111ec0fb3725343a98bc52d816dfe4cb3d53f0f761e500c3a6bfb31e3ef49005ad61a63ad39a06010203206e3fe8b65cf3dc328b0ba4cf8c6fe076d24ed37f5596b154a5bedeb5c49ad2251000180020002800aa052444454533423634362d324137422d344638442d414245392d463642354444343735413934)", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=d90108222000ba02aa010a9f010578d51a929ed1f77ce29f723f95721d1823aadbd2ddbc8aea00bfa21b4ebdeab2f2159a085278993a4d24df159d6d0c6492abf05dd3d157a4859ceed5fc40c66c8bd24b6954a58f4af4c4a7d5f5a9dd17d9ba18111ec0fb3725343a98bc52d816dfe4cb3d53f0f761e500c3a6bfb31e3ef49005ad61a63ad39a06010203206e3fe8b65cf3dc328b0ba4cf8c6fe076d24ed37f5596b154a5bedeb5c49ad2251000180020002800aa052444454533423634362d324137422d344638442d414245392d463642354444343735413934)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\005x\\325\\032\\222\\236\\321\\367|\\342\\237r?\\225r\\035\\030#\\252\\333\\322\\335\\274\\212\\352\\000\\277\\242\\033N\\275\\352\\262\\362\\025\\232\\010Rx\\2...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"DEE3B646-2A7B-4F8D-ABE9-F6B5DD475A94\"\n"], ["2021-03-07 20:06:01", "DEBUG", "Device (Encrypted=d51a929ed1f77ce29f723f95721d1823aadbd2ddbc8aea00bfa21b4ebdeab2f2159a085278993a4d24df159d6d0c6492abf05dd3d157a4859ceed5fc40c66c8bd24b6954a58f4af4c4a7d5f5a9dd17d9ba18111ec0fb3725343a98bc52d816dfe4cb3d53f0f761e500c3a6bfb31e3ef49005ad61a63ad39a, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)", "Device (Encrypted=d51a929ed1f77ce29f723f95721d1823aadbd2ddbc8aea00bfa21b4ebdeab2f2159a085278993a4d24df159d6d0c6492abf05dd3d157a4859ceed5fc40c66c8bd24b6954a58f4af4c4a7d5f5a9dd17d9ba18111ec0fb3725343a98bc52d816dfe4cb3d53f0f761e500c3a6bfb31e3ef49005ad61a63ad39a, Public=cee7c5a7471183819b71c56d770446279d02ebd0530e0a4ebaae657ae3d2175f)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578aa4ca946c435445f8c8b01b76d2739cf5ec3e371b10d2e0d08315d625bad11181156f7743fdcf04c9f429f65e9e21622f5793cc237b60345404b2a921d3854f2722f8e384709249813b6981e6690c7a94b7c9c849ce58997c30d69e600b7fbab58b2b4cece5bb6442e9b503d4f6c7fbc8abe860b3c853fcf1000180020002800)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08222000ba0287010a7d0601030578aa4ca946c435445f8c8b01b76d2739cf5ec3e371b10d2e0d08315d625bad11181156f7743fdcf04c9f429f65e9e21622f5793cc237b60345404b2a921d3854f2722f8e384709249813b6981e6690c7a94b7c9c849ce58997c30d69e600b7fbab58b2b4cece5bb6442e9b503d4f6c7fbc8abe860b3c853fcf1000180020002800)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\006\\001\\003\\005x\\252L\\251F\\3045D_\\214\\213\\001\\267m\\'9\\317^\\303\\343q\\261\\r.\\r\\0101]b[\\255\\021\\030\\021V\\367t?\\334\\360L\\237B\\237e\\351...\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052439463735423930302d433641452d343741372d414541352d453439303346313730454245)", "10.10.0.33:56040<->10.10.1.9:49244 << Receive (Data=3e08222000ba02100a060701020601041000180020002800aa052439463735423930302d433641452d343741372d414541352d453439303346313730454245)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 << Receive: Protobuf: type: CRYPTO_PAIRING_MESSAGE\nerrorCode: NoError\n[cryptoPairingMessage] {\npairingData: \"\\007\\001\\002\\006\\001\\004\"\nstatus: 0\nisRetrying: false\nisUsingSystemPairing: false\nstate: 0\n}\nuniqueIdentifier: \"9F75B900-C6AE-47A7-AEA5-E4903F170EBE\"\n"], ["2021-03-07 20:06:01", "DEBUG", "Keys (Input=7df0cd63e8791be864b465ab0b8083d115d7848857b487094bcad00e23da05f6, Output=7cf306f79ab93de74ad55d404a4c40d24efa29151b396d2ae64ccc8990d51d4d)", "Keys (Input=7df0cd63e8791be864b465ab0b8083d115d7848857b487094bcad00e23da05f6, Output=7cf306f79ab93de74ad55d404a4c40d24efa29151b396d2ae64ccc8990d51d4d)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08262000d202020802)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=08262000d202020802)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Encrypted=f2078a8345cf33c6e8d1cbdb2b768a072d3a45fe6e820c411e)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Encrypted=f2078a8345cf33c6e8d1cbdb2b768a072d3a45fe6e820c411e)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: SET_CONNECTION_STATE_MESSAGE\nerrorCode: NoError\n[setConnectionStateMessage] {\nstate: Connected\n}\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=0810122435334334464332392d464246362d343636462d383544332d4446373135453444364232382000aa010a08011000180120012800)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Data=0810122435334334464332392d464246362d343636462d383544332d4446373135453444364232382000aa010a08011000180120012800)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Encrypted=920a1ca745485320c9324585bac7ad3af0a02fecba51a55f861748a0ecbd2dcdb54dbb3846c6421d267fff8be7bacf65f1b5d5d7a46418e56b188e1fc390a6969e264e795c9a45)", "10.10.0.33:56040<->10.10.1.9:49244 >> Send (Encrypted=920a1ca745485320c9324585bac7ad3af0a02fecba51a55f861748a0ecbd2dcdb54dbb3846c6421d267fff8be7bacf65f1b5d5d7a46418e56b188e1fc390a6969e264e795c9a45)\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE", "10.10.0.33:56040<->10.10.1.9:49244 >> Send: Protobuf: type: CLIENT_UPDATES_CONFIG_MESSAGE\nidentifier: \"53C4FC29-FBF6-466F-85D3-DF715E4D6B28\"\nerrorCode: NoError\n[clientUpdatesConfigMessage] {\nartworkUpdates: true\nnowPlayingUpdates: false\nvolumeUpdates: true\nkeyboardUpdates: true\noutputDeviceUpdates: false\n}\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 Received EOF from server", "10.10.0.33:56040<->10.10.1.9:49244 Received EOF from server\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 Disconnected from device: [Errno 107] Socket not connected", "10.10.0.33:56040<->10.10.1.9:49244 Disconnected from device: [Errno 107] Socket not connected\n"], ["2021-03-07 20:06:01", "WARNING", "There were 1 outstanding requests", "There were 1 outstanding requests\n"], ["2021-03-07 20:06:01", "DEBUG", "10.10.0.33:56040<->10.10.1.9:49244 Closing connection", "10.10.0.33:56040<->10.10.1.9:49244 Closing connection\n"], ["2021-03-07 20:06:06", "ERROR", "Failed to connect", "Failed to connect\nTraceback (most recent call last):\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 177, in _receive\nawait asyncio.wait_for(semaphore.acquire(), timeout)\nFile \"/usr/local/lib/python3.8/asyncio/tasks.py\", line 501, in wait_for\nraise exceptions.TimeoutError()\nasyncio.exceptions.TimeoutError\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 245, in _connect_loop\nawait self._connect(conf)\nFile \"/usr/src/homeassistant/homeassistant/components/apple_tv/__init__.py\", line 329, in _connect\nself.atv = await connect(conf, self.hass.loop, session=session)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/__init__.py\", line 76, in connect\nawait atv.connect()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/__init__.py\", line 701, in connect\nawait self._protocol.start()\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 107, in start\nawait self.send_and_receive(messages.client_updates_config())\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 169, in send_and_receive\nreturn await self._receive(identifier, timeout)\nFile \"/usr/local/lib/python3.8/site-packages/pyatv/mrp/protocol.py\", line 180, in _receive\ndel self._outstanding[identifier]\nKeyError: '53C4FC29-FBF6-466F-85D3-DF715E4D6B28'\n"]];
    var level_checkboxes = [];

    function createEntry(entry) {
      var show_date = document.getElementById("show_date").checked;
      var outer = document.createElement("div");
      outer.className = "box_log";

      var details = document.createElement("details");
      outer.appendChild(details);

      var summary = document.createElement("summary");
      summary.innerText = (show_date ? entry[0] + " " : "") + entry[2];
      details.appendChild(summary);

      var desc = document.createElement("pre");
      details.appendChild(desc);

      details.addEventListener("toggle", event => {
        if (details.open) {
          desc.innerText = entry[3];

        }
      });

      return outer;
    }

    function populate() {
      include_filter = document.getElementById("include_filter").value;
      exclude_filter = document.getElementById("exclude_filter").value;

      entries = document.getElementById("entries")
      entries.innerHTML = "";

      active_levels = new Set();
      for (const checkbox of level_checkboxes) {
        if (checkbox.checked) {
          active_levels.add(checkbox.value);
        }
      }

      include_regexp = new RegExp(include_filter, "i");
      exclude_regexp = new RegExp(exclude_filter, "i");
      for (const entry of content) {
        if (exclude_filter && exclude_regexp.test(entry[3])) {
          continue;
        }

        if ((include_filter == null || include_regexp.test(entry[3])) &&
            active_levels.has(entry[1])) {
          entries.appendChild(createEntry(entry));
        }
      }
    }

    function loadData() {
      var log_levels = new Set();

      for (const entry of content) {
        log_levels.add(entry[1]);
      }

      for (const level of log_levels) {
        var outer = document.createElement("div");
        outer.style = "display: inline";

        var filter_box = document.createElement("input");
        filter_box.type = "checkbox";
        filter_box.value = level;
        filter_box.id = "LEVEL_" + level;
        filter_box.value = level;
        filter_box.checked = true;
        filter_box.addEventListener('change', (event) => {
          populate();
        });

        outer.appendChild(filter_box);
        level_checkboxes.push(filter_box);

        var label = document.createElement("label");
        label.innerText = level;
        label.for = "LEVEL_" + level;
        outer.appendChild(label);

        document.getElementById("filters").appendChild(outer);
      }

      populate();
    }

    // onload does not seem to work nicely with htmlpreview, so this is a workaround
    var checkExist = setInterval(function() {
      if (document.getElementById("entries")) {
        loadData();
        clearInterval(checkExist);
      }
    }, 100);
  </script>

</head>
<body>
  <h1>pyatv log2html</h1>
  <div>
    Generated at 2021-03-07 19:08:12.449683<br />
    Command: /opt/hostedtoolcache/Python/3.9.2/x64/bin/atvlog --output 1c1565ca-8a1a-4640-8623-6cd9d7c560a4.html --format markdown body
  </div>
  <div id="filters" style="display: inline">
    <div>
      <label for="include_filter">Include</label>
      <input type="text" id="include_filter" onkeyup="populate()"
             placeholder="Include regexp..." />
    </div>
    <div>
      <label for="exclude_filter">Exclude</label>
      <input type="text" id="exclude_filter" onkeyup="populate()"
             placeholder="Exclude regexp..." />
    </div>
    <div>
      <input type="checkbox" id="show_date" onclick="populate()" checked />
      <label for="show_date">Show date</label>
    </div>
  </div>
  <div id="entries" />
</body>
